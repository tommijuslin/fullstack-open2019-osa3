{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseUrl","services_persons","axios","get","newObject","post","id","delete","concat","put","Filter","_ref","showAll","handleShowChange","react_default","a","createElement","value","onChange","PersonForm","_ref2","addPerson","newPerson","handlePersonChange","newNumber","handleNumberChange","onSubmit","type","Persons","_ref3","persons","setPersons","personsToShow","setMessage","map","person","key","name","number","onClick","personToDelete","find","window","confirm","personService","filter","text","state","setTimeout","deletePerson","Notification","_ref4","message","className","App","_useState","useState","_useState2","Object","slicedToArray","_useState3","_useState4","setNewPerson","_useState5","_useState6","setNewNumber","_useState7","_useState8","setShowAll","_useState9","_useState10","useEffect","then","response","data","toUpperCase","includes","App_Notification","App_Filter","event","target","App_PersonForm","names","preventDefault","personObject","personToUpdate","changedPerson","objectSpread","returnedPerson","catch","error","errorMessage","App_Persons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.90f66031.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst remove = (id) => {\r\n  axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nexport default { getAll, create, remove, update }","import React, { useState, useEffect } from 'react';\nimport personService from './services/persons'\nimport './index.css'\n\nconst Filter = ({ showAll, handleShowChange }) => {\n  return (\n    <div>\n      rajaa näytettäviä: <input value={showAll} onChange={handleShowChange} />\n    </div>\n  )\n}\n\nconst PersonForm = ({ addPerson, newPerson, handlePersonChange, newNumber, handleNumberChange }) => {\n  return (\n    <form onSubmit={addPerson}>\n      <div>nimi: <input value={newPerson} onChange={handlePersonChange} /></div>\n      <div>numero: <input value={newNumber} onChange={handleNumberChange} /></div>\n      <div>\n        <button type=\"submit\">lisää</button>\n      </div>\n    </form>\n  )\n}\n\nconst Persons = ({ persons, setPersons, personsToShow, setMessage }) => {\n\n  const deletePerson = (id) => {\n    const personToDelete = persons.find(person => person.id === id)\n\n    if (window.confirm(`Poistetaanko ${personToDelete.name}?`)) {\n      personService.remove(id)\n      setPersons(persons.filter(person => person.id !== id))\n\n      setMessage({\n        text: `Poistettiin '${personToDelete.name}'`,\n        state: 'info'\n      })\n      setTimeout(() => {\n        setMessage({ text: null })\n      }, 5000)\n    }\n  }\n\n  return (\n    personsToShow.map(person =>\n      <div key={person.id}>\n        {person.name}\n        {' '}\n        {person.number}\n        {' '}\n        <button onClick={() => deletePerson(person.id)}>poista</button>\n      </div>\n    ))\n}\n\nconst Notification = ({ message, state }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className={state}>\n      {message}\n    </div>\n  )\n}\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newPerson, setNewPerson] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [showAll, setShowAll] = useState('')\n  const [message, setMessage] = useState({ text: null, state: null })\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    const names = persons.map(person => person.name)\n    event.preventDefault()\n    const personObject = {\n      name: newPerson,\n      number: newNumber,\n    }\n\n    if (names.includes(newPerson)) {\n      if (window.confirm(`${newPerson} on jo luettelossa, korvataanko vanha numero uudella?`)) {\n        const personToUpdate = persons.find(person => person.name === newPerson)\n        const changedPerson = { ...personToUpdate, number: newNumber }\n\n        personService\n          .update(personToUpdate.id, changedPerson).then(returnedPerson => {\n            setPersons(persons.map(person => person !== personToUpdate ? person : returnedPerson.data))\n            setMessage({\n              text: `Henkilön '${newPerson}' numero päivitetty`,\n              state: 'info'\n            })\n            setTimeout(() => {\n              setMessage({ text: null })\n            }, 5000)\n          })\n          .catch(error => {\n            setMessage({\n              text: `Henkilö '${newPerson} oli jo poistettu`,\n              state: 'error'\n            })\n            setTimeout(() => {\n              setMessage({ text: null })\n            }, 5000)\n            setPersons(persons.filter(person => person.id !== personToUpdate.id))\n          })\n      }\n    } else {\n      personService\n        .create(personObject)\n        .then(response => {\n          setPersons(persons.concat(response.data))\n          setMessage({\n            text: `Lisättiin '${newPerson}'`,\n            state: 'info'\n          })\n          setTimeout(() => {\n            setMessage({ text: null })\n          }, 5000)\n        })\n        .catch(error => {\n          const errorMessage = error.response.data\n          setMessage({\n            text: errorMessage,\n            state: 'error'\n          })\n          setTimeout(() => {\n            setMessage({ text: null })\n          }, 5000)\n        })\n    }\n\n    setNewPerson('')\n    setNewNumber('')\n  }\n\n  const handlePersonChange = (event) => {\n    setNewPerson(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleShowChange = (event) => {\n    setShowAll(event.target.value)\n  }\n\n  const personsToShow = showAll\n    ? persons.filter(person => person.name.toUpperCase().includes(showAll.toUpperCase()))\n    : persons\n\n  return (\n    <div>\n      <h2>Puhelinluettelo</h2>\n\n      <Notification message={message.text} state={message.state} />\n\n      <Filter\n        showAll={showAll}\n        handleShowChange={handleShowChange}\n      />\n\n      <h3>lisää uusi</h3>\n\n      <PersonForm\n        addPerson={addPerson}\n        newPerson={newPerson}\n        handlePersonChange={handlePersonChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n\n      <h3>Numerot</h3>\n\n      <Persons\n        persons={persons}\n        setPersons={setPersons}\n        personsToShow={personsToShow}\n        setMessage={setMessage}\n      />\n    </div>\n  )\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}
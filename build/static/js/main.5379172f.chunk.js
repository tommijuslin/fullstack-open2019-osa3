(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,n){e.exports=n(39)},38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),u=n(11),r=n.n(u),c=n(12),i=n(2),l=n(3),s=n.n(l),m="/api/persons",f=function(){return s.a.get(m)},d=function(e){return s.a.post(m,e)},h=function(e){s.a.delete("".concat(m,"/").concat(e))},p=function(e,t){return s.a.put("".concat(m,"/").concat(e),t)},v=(n(38),function(e){var t=e.showAll,n=e.handleShowChange;return o.a.createElement("div",null,"rajaa n\xe4ytett\xe4vi\xe4: ",o.a.createElement("input",{value:t,onChange:n}))}),b=function(e){var t=e.addPerson,n=e.newPerson,a=e.handlePersonChange,u=e.newNumber,r=e.handleNumberChange;return o.a.createElement("form",{onSubmit:t},o.a.createElement("div",null,"nimi: ",o.a.createElement("input",{value:n,onChange:a})),o.a.createElement("div",null,"numero: ",o.a.createElement("input",{value:u,onChange:r})),o.a.createElement("div",null,o.a.createElement("button",{type:"submit"},"lis\xe4\xe4")))},E=function(e){var t=e.persons,n=e.setPersons,a=e.personsToShow,u=e.setMessage;return a.map(function(e){return o.a.createElement("div",{key:e.id},e.name," ",e.number," ",o.a.createElement("button",{onClick:function(){return function(e){var a=t.find(function(t){return t.id===e});window.confirm("Poistetaanko ".concat(a.name,"?"))&&(h(e),n(t.filter(function(t){return t.id!==e})),u({text:"Poistettiin '".concat(a.name,"'"),state:"info"}),setTimeout(function(){u({text:null})},5e3))}(e.id)}},"poista"))})},g=function(e){var t=e.message,n=e.state;return null===t?null:o.a.createElement("div",{className:n},t)},w=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],u=t[1],r=Object(a.useState)(""),l=Object(i.a)(r,2),s=l[0],m=l[1],h=Object(a.useState)(""),w=Object(i.a)(h,2),j=w[0],C=w[1],O=Object(a.useState)(""),x=Object(i.a)(O,2),P=x[0],S=x[1],k=Object(a.useState)({text:null,state:null}),N=Object(i.a)(k,2),T=N[0],y=N[1];Object(a.useEffect)(function(){f().then(function(e){u(e.data)})},[]);var A=P?n.filter(function(e){return e.name.toUpperCase().includes(P.toUpperCase())}):n;return o.a.createElement("div",null,o.a.createElement("h2",null,"Puhelinluettelo"),o.a.createElement(g,{message:T.text,state:T.state}),o.a.createElement(v,{showAll:P,handleShowChange:function(e){S(e.target.value)}}),o.a.createElement("h3",null,"lis\xe4\xe4 uusi"),o.a.createElement(b,{addPerson:function(e){var t=n.map(function(e){return e.name});e.preventDefault();var a={name:s,number:j};if(t.includes(s)){if(window.confirm("".concat(s," on jo luettelossa, korvataanko vanha numero uudella?"))){var o=n.find(function(e){return e.name===s}),r=Object(c.a)({},o,{number:j});p(o.id,r).then(function(e){u(n.map(function(t){return t!==o?t:e.data})),y({text:"Henkil\xf6n '".concat(s,"' numero p\xe4ivitetty"),state:"info"}),setTimeout(function(){y({text:null})},5e3)}).catch(function(e){y({text:"Henkil\xf6 '".concat(s," oli jo poistettu"),state:"error"}),setTimeout(function(){y({text:null})},5e3),u(n.filter(function(e){return e.id!==o.id}))})}}else d(a).then(function(e){u(n.concat(e.data)),y({text:"Lis\xe4ttiin '".concat(s,"'"),state:"info"}),setTimeout(function(){y({text:null})},5e3)}).catch(function(e){console.log(e.response.data.toString())});m(""),C("")},newPerson:s,handlePersonChange:function(e){m(e.target.value)},newNumber:j,handleNumberChange:function(e){C(e.target.value)}}),o.a.createElement("h3",null,"Numerot"),o.a.createElement(E,{persons:n,setPersons:u,personsToShow:A,setMessage:y}))};r.a.render(o.a.createElement(w,null),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.5379172f.chunk.js.map